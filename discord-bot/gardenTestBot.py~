import os
import discord
from discord.ext import commands
from dotenv import load_dotenv

load_dotenv();
TOKEN = 'NjkyMjA2MTkwNzkyNTQwMTYy.XnrJtQ.PszclLiFRpXVxZ8RqsLtlNJQ7Gs';
bot = commands.Bot(command_prefix='.');
bot.remove_command('help');

@bot.event
async def on_ready():
    print('It is time!');
    print('I am running on ' + 'GillianGardenTestBot');
    print('With the ID: ' + str(692206190792540162));

@bot.command()
async def addPlant(ctx, plant, location):
    #request from backend to add plant
    await ctx.send(plant + " added to " + location);
    
@bot.command()
async def removePlant(ctx, plant, location):
    #request from backend to remove plant
    await ctx.send(plant + " removed from " + location);

@bot.command()
async def getPlants(ctx):
    plants = "Plant, Icon"; #request from backend to get all plants
    await ctx.send(plants);

@bot.command()
async def help(ctx):
    author = ctx.message.author;
    test = discord.Embed(
            colour = discord.Colour.green()
    );
    test.set_author(name = "Bot prefix = .");
    test.add_field(name = "addPlant", value = "adds specified plant to specified location", inline = False);
    test.add_field(name = "removePlant", value = "removes specified plant from specified location", inline = False);
    test.add_field(name = "getPlants", value = "Shows all plants at their locations", inline = False);
    
    await author.send(embed = test);

bot.run(TOKEN);
